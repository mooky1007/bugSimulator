# BugSimulator
포식-피식 관계의 생태계 구현 시뮬레이터
[페이지 이동>](https://mooky1007.github.io/bugSimulator/)

### 설명
- 100*100의 타일 내 성장 후 주기적으로 식물(피식자의 먹이)을 생성하는 나무와, 개체들의 이동을 제한하는 작은 강이 존재
- 식물, 피식자, 포식자의 현재 개체 수 파악을 위한 그래프와 타일을 4*4칸으로 나눈 분포 그래프, 마지막으로 개체의 평균 크기와 최대, 최소 크기를 확인할 수 있는 그래프
- 피식자와 포식자는 공통된 뼈대를 지니고 있으며, 일부 행동양식이나 개체의 능력이 상이함.

- - -

### 목적
1. 한종의 생물군이 멸종하지 않고 포식-피식 그래프가 주기적으로 발생해야함.

![image](https://github.com/mooky1007/bugSimulator/assets/49158801/8538f3d4-9d47-4348-84bb-73d0062d777f)

2. 신규 개체가 생성될때, 일정확률로 기존개체와 다른 크기를 가진 돌연변이 개체 생성. 크기에 따라 형질이 변경됨 이후 크기가 크거나, 작은 개체가 새끼를 낳을 시 원본 객체의 크기가 유전됨. 이때, 생존에 유리한 방향으로 각 개체의 크기가 변화해야함.

3. 피식자는 2, 4구간의 이동이 자유롭지 못하여, 오랜 시간이 지난 후 2,4 구간에서 다른 형태의 피식자가 관찰 되어야함.  
(혹은 수렴진화의 증거 관찰 )

4. 생태학에 기반해 몇가지 가설을 세우고, 해당 가설이 증명 혹은 관찰되어야함.

- - -

### 상세

#### 공통
- 발생 후 자신의 행동주기에 맞춰 행동을 반복함.
- 발생 후 시간이 지나 노화로 사망, 혹은 에너지가 고갈될 경우 굶주림으로 사망함.
- 먹이를 섭취해 에너지를 회복함.
- 번식주기마다 자신의 에너지가 충분하다면 일정 에너지를 소모 후 새끼를 낳음. (2분법)
- 각 개체마다 고유의 시야거리와, 영역거리를 가지고 있음
- 각 개체마다 영역내 허용되는 개체의 수가 설정되어 있고, 자신의 영역 내 해당 개체수 보다 많은 동족이 있다면 해당 지역을 기피함.
- 각 개체마다 시야 안에 최소 허용되는 먹이 개체의 수량이 있음(프레이 패널티 / 프레이 리미트)

| * | 피식자 | 포식자 |
|-----|---|---|
| 수명 | 1800 | 2400 |
| 행동주기 | 310ms | 220ms |
| 먹이활동 시 행동 주기 | 300ms | 120m |
| 크기(기본) | 8 | 13 | 
| 에너지 | 80 | 240 |
| 허기를 느끼는 에너지 | 70 | 110 |
| 시야 | 12 | 16 |
| 영역 | 24 | 24 |
| 영역 내 허용 개체 | 36 | 2 |
| 번식 시 소모 에너지 | 70 | 40 |
| 번식 주기 | 50ms | 120ms |
| 주기당 에너지 소모 | 1 | 1.5 |
| 먹이 개체 허용치 | 1 | 3 |

\*200ms 마다 주기당 에너지 소모량 만큼 에너지 감소  
\* 시야 내 먹이 개체가 먹이 개체 허용치보다 낮으면 잡아먹지 않음

#### 피식자
- 빠른 번식, 적은 에너지로 라이프사이클이 짧음
- 영역 내 허용 개체수가 많아 군집 형성 용이

###### 행동패턴
1. 시야 안에 먹이가 없는경우 계속해서 랜덤하게 이동
2. 시야 안에 먹이가 충분하고, 자신의 에너지가 일정량 이하(먹이활동 최소 에너지 수치)면 먹이를 향해 이동
3. 시야 내에 먹이활동중인 포식자가 있다면 포식자로부터 멀어짐
4. 영역 내에 자신의 동족이 영역 허용치보다 많다면 해당 영역을 기피함
5. 번식 주기가 돌아왔고, 번식에 가능한 에너지가 있다면 번식

#### 포식자
- 피식자에 비해 넓은 시야와 영역, 낮은 영역 내 허용 동족 수
- 높은 초기 에너지로 먹이활동이 없어도 오랜기간 생존 가능
- 먹이를 먹으러 이동할때 속도 빨라짐
- 이동시 추가적인 에너지 소모
- 피식자에 비해 에너지 소모량이 높음

###### 행동패턴
1. 시야 안에 먹이가 없는경우 계속해서 랜덤하게 이동
2. 시야 안에 먹이가 충분하고, 자신의 에너지가 일정량 이하(먹이활동 최소 에너지 수치)이고, 자신보다 작은 먹이를 향해 이동 (자신보다 큰 먹이는 먹지 못함)
4. 번식 주기가 돌아왔고, 번식에 가능한 에너지가 있다면 번식
5. 영역 내에 자신의 동족이 영역 허용치보다 많다면 해당 영역을 기피함

- - -

### 진행 상황

![image](https://github.com/mooky1007/bugSimulator/assets/49158801/746a48b4-832b-42f4-b1f7-8901832ba068)

**피식 - 포식 그래프 패턴 확인.**  
단, 포식자의 경우 영역동물의 패턴을 지니고 있어 일정 개체수 이상 증가 후 포식자의 급격한 증가에 맞춰 같이 증가하지 못하는 모습이 종종 관찰됨.

![image](https://github.com/mooky1007/bugSimulator/assets/49158801/05ee14f9-02e6-4fa1-8bc5-67bfc78ce9ec)

**2, 4 구간의 피식자 차별점 관찰**  
2구간의 피식자는 4구간의 피식자보다 대체로 큰 사이즈로 확인됨.  

![image](https://github.com/mooky1007/bugSimulator/assets/49158801/d43c8015-a603-4916-b15b-5b26e91d2183)

**피식개체의 점차적인 크기 증가가 확인됨**  
큰 피식자는 포식자가 먹이 활동 시 우선적으로 고려되며, 크기에 따라 행동속도 또한 느려짐. 왜그런건지 파악해야함.  
추가적으로, 포식자의 경우 크기가 변화한 개체의 다음 번식률이 낮음 현상 파악 필요


